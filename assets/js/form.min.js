class FormSubmit{constructor(t){this.settings=t,this.form=document.querySelector(t.form),this.formButton=document.querySelector(t.button),this.form&&(this.url=this.form.getAttribute("action")),this.sendForm=this.sendForm.bind(this)}displaySuccess(){this.form.innerHTML=this.settings.success}displayError(){this.form.innerHTML=this.settings.error}getFormObject(){const t={},e=this.form.querySelectorAll("[name]");return e.forEach(e=>{t[e.getAttribute("name")]=e.value}),t}onSubmission(t){t.preventDefault(),t.target.disabled=!0,t.target.innerText="Enviando..."}async sendForm(t){try{this.validateAndSubmit()?alert("Por favor, preencha todos os campos antes de enviar o formulário."):(this.onSubmission(t),await fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(this.getFormObject())}),this.displaySuccess())}catch(t){throw this.displayError(),new Error(t)}}init(){return this.form&&this.formButton.addEventListener("click",this.sendForm),this}validateAndSubmit(){const t=this.form.elements.name.value,e=this.form.elements.email.value,r=this.form.elements.phone.value,s=this.form.elements.$cargo.value,i=this.form.elements.$empresa.value,o=this.form.elements.calcular.value;return this.validaCalculoSubmit(o)?(alert("Por favor, preencha o campo de cálculo corretamente"),!0):this.validaTermosSubmit()?""===t.trim()||""===e.trim()||""===r.trim()||""===s.trim()||""===i.trim()||""===o.trim()||void 0:(alert("Por favor, aceite os termos e condições antes de enviar o formulário."),!0)}validaCalculoSubmit(t){if("5"!==t.trim())return!0}validaTermosSubmit(){const t=document.getElementById("aceitoTermos");if(t.checked)return!0}}const formSubmit=new FormSubmit({form:"[data-form]",button:"[data-button]",success:"<h1 class='success'>Mensagem enviada!</h1>",error:"<h1 class='error'>Não foi possível enviar sua mensagem.</h1>"});formSubmit.init();